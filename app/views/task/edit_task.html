{% extends "base.html" %}

{% block content %}
<h1>Edit task</h1>

{% if errors %}
<div class="alert alert-danger">
    <ul>
        {% for error in errors %}
        <li>{{error}}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<form method="post" action="{{base_path}}/edit_task/{{task.id}}">
    <div class="checkbox">
        <label>
            {% if task.status %}
            <input type="checkbox" name="status" checked>
            {% else %}
            <input type="checkbox" name="status">
            {% endif %}
            Done
        </label>
    </div>
    <div class="form-group">
        <label>Name</label>
        <input class="form-control" value="{{task.task_name}}" type="text" name="task_name">
    </div>
    <div class="form-group">
        <label>Priority</label>
        <label class="radio-inline">
            {% if task.priority == 1 %}
            <input type="radio" name="priority" value="1" checked >1
            {% else %}
            <input type="radio" name="priority" value="1" >1
            {% endif %}
        </label>
        <label class="radio-inline">
            {% if task.priority == 2 %}
            <input type="radio" name="priority" value="2" checked >2
            {% else %}
            <input type="radio" name="priority" value="2">2
            {% endif %}
        </label>
        <label class="radio-inline">
            {% if task.priority == 3 %}
            <input type="radio" name="priority" value="3" checked >3
            {% else %}
            <input type="radio" name="priority" value="3">3
            {% endif %}
        </label>
        <label class="radio-inline">
            {% if task.priority == 4 %}
            <input type="radio" name="priority" value="4" checked >4
            {% else %}
            <input type="radio" name="priority" value="4">4
            {% endif %}
        </label>
        <label class="radio-inline">
            {% if task.priority == 5 %}
            <input type="radio" name="priority" value="5" checked >5
            {% else %}
            <input type="radio" name="priority" value="5">5
            {% endif %}
        </label>
    </div>
    <div class="form-group">
        <label>Topics</label>
        {% for topic in topics %}
        <div class="checkbox">
            {% if topic.id in task_topics %}
            <label><input type="checkbox" checked name="topic_ids[]" value={{topic.id}}>{{topic.name}}</label>
            {% else %}
            <label><input type="checkbox" name="topic_ids[]" value={{topic.id}}>{{topic.name}}</label>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    <div class="form-group">
        <label>Notes</label>
        <textarea class="form-control" name="notes">{{task.notes}}</textarea>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-success">Save</button>
    </div>
</form>
{% endblock %}
